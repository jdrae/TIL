# 네트워크 101

### OSI 7계층

네트워크에서 데이터가 교환되는 과정을 표준화하여 호환성을 높이고, 7단계로 나눠 장애 원인을 파악하고 보수하기 용이하게 하였다. 전송 시 각 계층마다 헤더를 붙이고(캡슐화) 수신할 때 헤더를 떼어내면서 정보를 파악한다. 

OSI 7계층은 ISO 가 개발한 개념적 모델이다. TCP/IP 는 4계층으로 나뉘어 클라이언트-서버 간의 통신을 묘사한다.



* 1 - 물리 계층

    케이블/광섬유를 통해 비트를 전송한다. 데이터의 오류를 제어하지 않는다.

* 2 - 데이터 링크 계층

    브릿지/스위치를 통해 MAC 주소로 프레임을 전달한다. 흐름제어, 오류제어로 Point-to-Point 간 신뢰성 있는 전송을 보장한다.
    
    흐름제어는 전송 데이터의 양을 제한하여 송수신 측의 속도 차이를 조절하기 위해 사용한다. 프레임을 전송 한 후, ACK 프레임을 수신할 때까지 대기했다가 보내는 정지-대기 흐름제어 기법이 있다. 슬라이딩-윈도우 흐름제어는 수신 측에서 N 개의 프레임을 위한 버퍼 공간을 할당하고, 송신 측에서는 N 개의 프레임에 순서번호를 붙여 연속으로 보낼 수 있게 한다.

    오류제어는 오류검출과 재전송으로 이루어지며, 이러한 과정을 ARQ(automatic repeat request) 라고 한다. 정지-대기 ARQ 방식은 송신 측의 프레임이 손상되었거나 수신 측의 ACK 가 손상되었을 경우 time-out 을 통해 송신 측은 같은 프레임을 다시 보낸다. 그 외에도 슬라이딩-윈도우에 기반을 둔 Go-Back-N ARQ, 선택적-거절 ARQ 가 있다.

    *오류검출 기법: 각 프레임의 끝에 패리티 비트를 붙여 홀/짝을 확인하는 패리티 검사 방법과, 순환 중복 검사(CRC) 가 있다.

    *회선제어: 데이터링크 전송 방식 중, 반이중(half duplex) 전송 방식은 두 개의 스테이션이 동시에 신호를 전송하는 경우 충돌이 발생할 수도 있다. 이 때, ENQ 프레임으로 연결을 초기화하고 ACK 프레임으로 데이터를 받을 준비를 알리고, EOT 프레임으로 전송의 끝을 알림으로써 회선 제어를 한다. 또는 주/종속 스테이션을 나눠 주 스테이션이 링크 제어 권한을 가지는 폴링 기법을 사용한다.

    *MAC: 물리적 주소, 이더넷 주소라고도 불리는데, 네트워크 카드를 만들 때부터 정해지고 ROM 에 저장되어 바뀌지 않는 기계의 고유주소번호이다.
    
* 3 - 네트워크 계층

    라우터를 통해 IP 주소로 패킷을 전달한다. 데이터링크의 스위치는 주변 컴퓨터들의 MAC 주소를 관리했다면, 라우터는 네트워크 대역대를 나타내는 IP 로 허브들을 관리하고, 각 패킷마다(packet-switching) 헤더에 붙은 IP 주소로 가는 최적의 경로를 안내한다(routing). 오류제어와 흐름제어가 없으므로 전송계층의 TCP 계층에 의존한다. 
